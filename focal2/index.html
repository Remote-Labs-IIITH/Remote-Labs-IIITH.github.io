<!DOCTYPE html>
<html>

<head>
    <title>Dashboard | Focal Length </title>
    <script src="script.js"></script>
    <script src="timer.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <style>
		/* @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@200&display=swap'); */
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@800;900&family=Poppins:wght@200&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=The+Nautigal:wght@400;700&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&family=Raleway:wght@100;200&family=Roboto:ital,wght@0,100;0,300;0,400;1,100;1,300;1,400&display=swap');
	</style>

    <script>
        jQuery(document).ready(function ($) {

            if (window.history && window.history.pushState) {

                window.history.pushState('forward', null, './#forward');

                $(window).on('popstate', function () {
                   
                    sessionStorage.removeItem("saved_countdown");
                    sessionStorage.removeItem("saved_val_v");
                    sessionStorage.removeItem("saved_val_u");
                    location.href = '../home_page/home.html'
                    fetch("https://blynk.cloud/external/api/update?token=nQ1T3sl75lK3QvSnkbhRd2smAHaV4Jqc&v0=1") //Recalibrate
                    fetch("https://blynk.cloud/external/api/update?token=nQ1T3sl75lK3QvSnkbhRd2smAHaV4Jqc&v6=0") //usage
                });

            }
        });
    </script>
    <link rel="stylesheet" href="style2.css">
</head>

<body>
    <nav role="navigation">
        <div id="menuToggle">

            <input type="checkbox" />

            <span></span>
            <span></span>
            <span></span>

            <ul id="menu">
                <div class="up_half"><h2>How to use this dashboard</h2></div>
                <li>To move the object/screen there are '+' and '-' buttons as well as a slider. '+' or
                    moving slider towards '+' means the object/ screen will move away from the
                    lens vis-versa for '-' or moving slider towards '-' button.</li>
                <li>
                    <strong>Recalibration Button:</strong> Pressing this button will reset the positions of
                    screen and object to their default positions.
                </li>
             <li>Use the joystick to view the other sides of setup.</li>
                <li>
                  <strong>Leave session:</strong> If you are satisfied and finished with your experiment then you
                    can leave by clicking 'Leave Session' button on top-right corner.
                </li><br/>
                <li>
                    <strong>Note: There's a latency of about 5-10 seconds in video feed.</strong>
                </li>
            </ul>
        </div>
        <label id="inst">Instructions</label>
    </nav><br />
    <br>
    

<!-- Streaming frames -->
    <div class="stream">
        <label id="pc1">Screen</label>
        <iframe id="live1" class="live1" width="540" height="220" title="YouTube video player" frameborder="0"
            allow="autoplay"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        
        <label id="pc2">Object</label> 
        <iframe id="live2" class="live2" width="540" height="220" title="YouTube video player" frameborder="0"
            allow="autoplay"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
            
    </div>

    <script type="module" src="video.js"></script>
    
    <div class="range1">
        <nav class="navbar">
            <a id="focal_head" href="#focal">focal length</a>
            <a id="session" type="button" onclick='leave()'>Leave Session</a>
            <a id="demo"></a>
        </nav>

<!-- Object Slider -->
        <div class="slidervalue1">
            
            <span id="us">0</span>
            <label>cm</label>
        </div>

        <div class="field1">
            <div class="value left">6.2</div>
            <input type="range" min="6.2" max="22.0" value="0.0" style="width: 160px;" step="0.1" id="u">
            <div class="value right">22.0</div>
            <div class="u_label" id="u_label" data-hover="Object"><span></span></div>
        </div>
        <button type="button" onclick='increment("u")' class="btn_plus" id="btn_plus1">+</button>
        <button type="button" onclick='decrement("u")' class="btn_minus" id="btn_minus1">-</button>
    </div>
    <br />

<!-- Screen Slider -->
    <div class="range1">
        <div class="slidervalue1">
            <span id="vs">0</span>
            <label>cm</label>
        </div>

        <div class="field1">
            <div class="value left">6.4</div>
            <input type="range" min="6.4" max="21.8" value="0.0" style="width: 160px;" step="0.1" id="v">
            <div class="value right">21.8</div>
            <div class="v_label" id="v_label" data-hover="Screen"><span></span></div>
        </div>
        <button type="button" onclick='increment("v")' class="btn_plus" id="btn_plus2">+</button>
        <button type="button" onclick='decrement("v")' class="btn_minus" id="btn_minus2">-</button>
        <div class="focal_val" id="fof">Focal Length:<div id="f" value="0.0">0</div>
        </div>
        <!-- <div class="info">
            <br><strong>The clear image will be seen on the screen at focal length of _ cm</strong></br></div> -->
            

<!-- Recalibrate Button -->
        <div class="ctrls">
            <button type="button" class="btn-1" onclick='myfunction()' id="bt1">Recalibrate</button>
            
        </div>

</div>

    
<!-- Joystick -->
        <div class="range2">
            
            <button type="button" onclick='Down("btn_down")' class="btn_down" id="btn_down">▼</button>
            <button type="button" onclick='Up("btn_up")' class="btn_up" id="btn_up">▲</button>
            <button type="button" onclick='Right("btn_right")' class="btn_right" id="btn_right">▶</button>
            <button type="button" onclick='Left("btn_left")' class="btn_left" id="btn_left">◀</button>
            <button type="button" onclick='Center("btn_center")' class="btn_center" id="btn_center">⬤</button>

        </div>
                   
        <div class="joy">
            <strong>Camera Joystick</strong>
        </div>       
        
</body>

</html>
