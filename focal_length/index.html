<!DOCTYPE html>
<html>

<head>
    <title>Dashboard | Focal Length </title>
    <script src="script.js"></script>
    <script src="timer.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    <style>
		/* @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Poppins:wght@200&display=swap'); */
        @import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@800;900&family=Poppins:wght@200&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=The+Nautigal:wght@400;700&display=swap');
		@import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@300&family=Raleway:wght@100;200&family=Roboto:ital,wght@0,100;0,300;0,400;1,100;1,300;1,400&display=swap');
	</style>

    <!-- <script>
        // check for Navigation Timing API support
        if (window.performance) {
             console.info("window.performance works fine on this browser");
        }
        console.info(performance.navigation.type);
        if (performance.navigation.type == performance.navigation.TYPE_RELOAD) {
            console.info("This page is reloaded");


        } else {
            console.info("This page is not reloaded");
        }
    </script> -->
    <script>
        jQuery(document).ready(function ($) {

            if (window.history && window.history.pushState) {

                window.history.pushState('forward', null, './#forward');

                $(window).on('popstate', function () {

                    sessionStorage.removeItem("saved_countdown");
                    sessionStorage.removeItem("saved_val_v");
                    sessionStorage.removeItem("saved_val_u");
                    location.href = '../home_page/home.html'
                    fetch("https://blr1.blynk.cloud/external/api/update?token=LvC6vyL_uPSpPdgnlCln0I9Vab6zcogV&v0=1")
                    fetch("https://blr1.blynk.cloud/external/api/update?token=LvC6vyL_uPSpPdgnlCln0I9Vab6zcogV&v6=0")

                });

            }
        });
    </script>
    <link rel="stylesheet" href="style2.css">
</head>

<body>
    <nav role="navigation">
        <div id="menuToggle">

            <input type="checkbox" />

            <span></span>
            <span></span>
            <span></span>

            <ul id="menu">
                <div class="up_half"><h2>How to use this dashboard</h2></div>
                
                <li>To move the object/screen there are '+' and '-' buttons as well as a slider. '+' or
                    moving slider towards '+' means the object/ screen will move away from the
                    lens vis-versa for '-' or moving slider towards '-' button.</li>
                <li>
                    <strong>Recalibration Button:</strong> Pressing this button will reset the positions of
                    screen and object to their default positions.
                </li>
                <li>
                    <strong>Save Values:</strong> Pressing this button will save the current values displaying on the
                    dashboard in a excel sheet. You can save multiple values in a session.
                </li>
                <li>
                    <strong>Download Values:</strong> This button lets you download the excel sheet in which you
                    have saved your values.
                </li>
                <li>
                    <strong>Leave session:</strong> If you are satisfied and finished with your experiment then you
                    can leave by clicking 'Leave Session' button on top-right corner.
                </li><br/>
                <li>
                    <strong>Note: There's a latency of about 5-10 seconds in video feed.</strong>
                </li>
            </ul>
        </div>
        <label id="inst">Instructions</label>
    </nav><br />


    <div class="stream">
        <label id="pc1">Screen</label>
        <iframe id="live1" class="live1" width="540" height="220" title="YouTube video player" frameborder="0"
            allow="autoplay"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        <iframe id="live2" class="live2" width="540" height="220" title="YouTube video player" frameborder="0"
            allow="autoplay"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
        <label id="pc2">Object</label>
    </div>

    <script type="module" src="video.js"></script>
    <div class="range1">
        <nav class="navbar">
            <a id="focal_head" href="#focal">focal length</a>
            <a id="session" type="button" onclick='leave()'>Leave Session</a>
            <a id="demo"></a>
        </nav>
        <div class="slidervalue1">
            <span id="us">0</span>
            <label>cm</label>
        </div>

        <div class="field1">
            <div class="value left">7.6</div>
            <input type="range" min="7.6" max="49.0" value="0.0" style="width: 160px;" step="0.1" id="u">
            <div class="value right">49.0</div>
            <div class="u_label" id="u_label" data-hover="Object"><span></span></div>
        </div>
        <button type="button" onclick='increment("u")' class="btn_plus" id="btn_plus1">+</button>
        <button type="button" onclick='decrement("u")' class="btn_minus" id="btn_minus1">-</button>
    </div>
    <br />
    <div class="range1">
        <div class="slidervalue1">
            <span id="vs">0</span>
            <label>cm</label>
        </div>

        <div class="field1">
            <div class="value left">6.5</div>
            <input type="range" min="6.5" max="48.0" value="0.0" style="width: 160px;" step="0.1" id="v">
            <div class="value right">48.0</div>
            <div class="v_label" id="v_label" data-hover="Screen"><span></span></div>
        </div>
        <button type="button" onclick='increment("v")' class="btn_plus" id="btn_plus2">+</button>
        <button type="button" onclick='decrement("v")' class="btn_minus" id="btn_minus2">-</button>
        <div class="focal_val" id="fof">Focal Length:<div id="f" value="0.0">0</div>
        </div>
        <div class="ctrls">
            <button type="button" class="btn-1" onclick='myfunction()' id="bt1">Recalibrate</button>
            <button type="button" class="save" onclick='save_vals()' id='IDK'>Save Values</button>
            <button type="button" class="download" onclick='download_vals()' id='wtf'>Download Values</button>
        </div>


        <!-- <script>
            function myfunction() {
                console.log("tu pagal hai kya??")
                document.getElementById("bt1").innerHTML = "Recalibrating";
                document.querySelector("#us").innerHTML = "0";
                document.querySelector("#vs").innerHTML = "0";
                fetch("https://blynk.cloud/external/api/update?token=LvC6vyL_uPSpPdgnlCln0I9Vab6zcogV&v0=" + "1")
            }
        </script> -->

    </div>


</body>

</html>
